<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
// //数组去重

// //set
// function test1(arr){
//     arr=Array.from(new Set(arr));
//     return arr;
// }

// //includes
// function test2(arr){
//     let arr1=[];
//     arr.forEach((item) => {
//         if(!arr1.includes(item)){
//             arr1.push(item);
//         }
//     });
//     return arr1;
// }

// function test3(arr){
//     let arr1=[];
//     let map=new Map();
//     arr.forEach((item) => {
//         if(!map.has(item)){
//             map.set(item,true);
//             arr1.push(item);
//         }
//     });
//     return arr1;
// }
//数组拍平
//flat
function test1(arr){
    return arr.flat(Infinity);
}


//递归
function test2(arr){
    let arr1=[];
    arr.forEach((item) => {
        if(item instanceof Array){
            arr1=arr1.concat(test2(item));
        }else{
            arr1.push(item);
        }
    });
    return arr1;
}


//reduce
function test3(arr){
    let arr1=[];
    return arr.reduce((prev,item)=>{
        return prev.concat(Array.isArray(item)?test3(item):item)
    },[])
        
    }

//...
function test4(arr){
        let arr1=[];
        let flag=true;
        arr.forEach((item) => {
            if(Array.isArray(item)){
               arr1.push(...item);
               flag=false;
            }else{
                arr1.push(item);
            }
        });
        if(flag){
            return arr1;
        }
    return test4(arr1);
}
// 测试函数
// // 定义一个测试函数
// function logMessage(message) {
//     console.log(`Message: ${message}, Time: ${Date.now()}`);
// }

// // 包装成节流函数
// const throttledLog = throttle(logMessage, 2000);

// // 模拟频繁触发事件
// setInterval(() => {
//     throttledLog("User action"); // 每隔一秒触发一次，但只有每 2 秒输出一次
// }, 1000);


// const log =()=> console.log('Function executed');
// const debounceLog = debounce(log);

// debounceLog();
// debounceLog();
// debounceLog();
// 
var arr = [1,2,[3,4,5,[6,7,8],9],10,[11,12]];
// const arr = [9, 2, 9, '123', '123', true, NaN, true, false, false, undefined, undefined, NaN, {}, {}]
console.log(test1(arr));
console.log(test2(arr));
console.log(test3(arr));
console.log(test4(arr));
    </script>
</body>
</html>